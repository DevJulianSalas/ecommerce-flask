

version: '2'
services:
  db_master:
    env_file: .env
    restart: always
    build: ./mongo
    ports:
      - "27017:27017"
    expose:
      - "27017"
    tty: true
    volumes:
      - /var/log/mongodb/
      - /data/db
      - /home/kalismash/Docker/mongo_django/mongo/desarrollo:/home/developt
    networks:
      app_net:
        ipv4_address: '$MONGO_IP'



  web_flask:
    build:
      context: ./flask
      args:
        - FLASK_ENV=dev
    env_file: .env
    restart: always
    ports:
      - "9000:9000"
    expose:
      - "9000"
    tty: true
    volumes:
      - ./flask/projects:/home/desarrollo
    networks:
      app_net:
        ipv4_address: '$FLASK_IP'
    command: python apps/run.py




networks:
  app_net:
    driver: bridge
    ipam:
      config:
        - subnet: 140.24.0.0/24
